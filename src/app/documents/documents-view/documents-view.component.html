<app-navbar />

<div class="documents-container">
  <div class="header">
    <h2>Documentos</h2>
    <div class="buttons">
      <span class="download-label">Descargar:</span>
      <button class="btn-pdf" (click)="viewPdf()" [disabled]="loading">PDF</button>
      <button class="btn-xml" (click)="viewXml()" [disabled]="loading">XML</button>
      <button class="btn-cdr" (click)="viewCdr()" [disabled]="loading">CDR</button>
    </div>
  </div>

  <div class="viewer">
    <div *ngIf="loading" class="loading">
      <p>Cargando documento...</p>
    </div>

    <div *ngIf="error && !loading" class="error">
      <p>{{ error }}</p>
    </div>

    <div *ngIf="!loading && !error && !selectedType" class="placeholder">
      <p>Seleccione un documento para visualizar</p>
    </div>

    <div *ngIf="!loading && !error && (selectedType === 'xml' || selectedType === 'cdr')" class="text-content">
      <pre>{{ content }}</pre>
    </div>

    <div *ngIf="!loading && !error && selectedType === 'pdf' && pdfUrl" class="pdf-content">
      <iframe [src]="pdfUrl" width="100%" height="600px"></iframe>
    </div>
  </div>
</div>